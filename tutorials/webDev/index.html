<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>HackerPack</title>

    <link rel="stylesheet"
          href="../../bower_components/bootstrap/dist/css/bootstrap.css">
    <link rel="stylesheet"
          href="../../bower_components/bootstrap/dist/css/bootstrap-theme.css">

    <link rel="stylesheet" href="../../assets/css/web_tutorial.css">
</head>
<body>

<!-- Navigation bar -->
<nav class="navbar navbar-default navbar-fixed-top">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse"
                    data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <a href="../../index.html" class="navbar-brand">
                <span class="hred">Hacker</span>
                <span class="hgreen">Pack</span>
            </a>

        </div>

        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="../../about.html">About</a>
                </li>
                <li>
                    <a href="../../onboarding.html">How It Works</a>
                </li>
                <li>
                    <a href="../index.html">Tutorials</a>
                </li>
                <li>
                    <a href="../../profile.html">My Profile</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<!-- Main content -->

<div class="tutorial-panels">
    <h2> Web Development Tutorial: Features </h2>

    <ul class="instructions">
        <li> Start with the HTML template before you select other features</li>
        <li> Once you have finished copying the HTML template, you can select
            other features to put in the body of the HTML template
        </li>
    </ul>

    <div class="container-fluid">
        <div class="row center-block" id="panels">
        </div>
    </div>

</div>
<script src="../../bower_components/jquery/dist/jquery.js"></script>
<script src="../../bower_components/bootstrap/dist/js/bootstrap.js"></script>


<script>
    $.getJSON('./dummyBackend/listOfFeatures.json', function (data) {

        var number_of_feats = data["number_of_feats"];

        var feats_name = data["feats_name"];
        var feats_json = data["feats_json"];

        var feat_description = data["feats_description"];

        var panels = document.getElementById('panels');

        // creating the panels in rows of 3
        for (var i = 0; i < number_of_feats; i++) {

            if ((i + 1) % 3) {
                var row = document.createDocumentFragment();
                row.innerHTML = "<div class = 'row'";
                panels.appendChild(row);
            }

            var id = String(feats_json[i]);
            var idString = "id=" + id;

            var tempString = "<div class='col-sm-4'>" +
                    "<div class='panel panel-default' onclick='changePage(" +
                    id + ")'" + idString + ">" +
                    "<div class='panel-body'>" +
                    "<div class='feat-names'>" + feats_name[i] +
                    "</div>" + "<div class='feat-des'>" +
                    feat_description[i] +
                    "</div>" + "</div>" + "</div>" + "</div>";


            var newFeature = document.createElement('div');
            newFeature.innerHTML = tempString;
            panels.appendChild(newFeature);

            if ((i + 1) % 3) {
                var row = document.createDocumentFragment();
                row.innerHTML = "</div>";
                panels.appendChild(row);
            }
        }
    });

    function changePage(idString) {
        document.location.href = "featureTemplate.html" + "?name=" + idString.id;
    }
</script>

</body>
</html>
